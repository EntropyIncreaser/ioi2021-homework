我们首先考虑随机化，注意到根据斯特林公式对于阶乘的近似 $n! \sim \sqrt{2\pi n}(n/\mathrm e)^n$ ，一个随机串恰有 $n/2$ 位的概率大概是 $O(n^{-1/2})$ 的，因此我们期望随机 $O(n^{1/2})$ 轮就可以找到一个交互返回 $n/2$ 的解（当然如果运气太好返回 $n$ 就直接退出）

接下来我们考虑将得到的串的 $1, i$ 位同时翻转，如果答案还是 $n/2$ 就说明一个是错的一个是对的，询问所有 $2\le i\le n$ 后就得到了将数位被划分为 $n/2$ 大小的两类。我们接下来只需要询问两次就能确定哪个是正确答案了。
