相对于我们需要以子序列关系连边，然后给图找最多两条链的划分。我们考虑子序列关系是一个序关系，所以 $x\rightarrow y, y\rightarrow z$ 就有 $x\rightarrow z$。我们首先按照字符串长度排序，就一定是一个拓扑序了。接下来我们按顺序扫，考虑两个链的末端点 $x,y$，当下一个节点 $z$ 恰是其中一个的后继时，显然我们只能从该者连到 $z$，否则我们考虑先不决策，继续接纳后面的点：

我们记当前接纳了一连串点 $u \rightarrow \cdots \rightarrow v$，接下来下一个点 $z$ 有几种情况：

- $z$ 是 $v$ 的后继，这个时候我们直接把 $z$ 接到 $v$ 的后继。
- 否则 $z$ 必须至少是 $x,y$ 一者的后继，否则无解。不妨设是 $x$ 的后继，那我们记 $x\rightarrow z, y\rightarrow u$，于是新的两个链尾是 $z,v$。

