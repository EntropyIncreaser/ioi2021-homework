我们枚举一个左端点，然后倍增往右跳就可以了。复杂度 $\Theta(n\log n)$
