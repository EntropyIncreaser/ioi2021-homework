注意到 $n\le10^4$，所以小常数的 $O(n^2)$ 做法就是能通过的，我们考虑怎么算出哪些对 $(i,j)$ 满足 $i$ 到 $j$ 的拱桥是没有遮挡的。我们分别考虑“左半边拱门”和“右半边拱门”的限制，考虑一个在 $(x,y)$ 点的障碍，它会让拱门半径约束为 $r\le x+y+\sqrt{2xy}$。我们扫描的时候一直到前缀的约束不满足为止即可，即可处理处半圆能最远延伸的 $r_i$ 和 $l_j$，$(i,j)$ 满足条件当且仅当 $j\le r_i \wedge i \ge l_j$。
